{
  "templateName": "Dating Sim Tracker (Top of Message)",
  "templateAuthor": "Prolix OCs",
  "templatePosition": "ABOVE",
  "htmlTemplate": "<!-- TEMPLATE NAME: Dating Sim Tracker (Top of Message) -->\r\n<!-- AUTHOR: Prolix OCs -->\r\n<!-- POSITION: ABOVE -->\r\n\r\n<!-- CARD_TEMPLATE_START -->\r\n<style>\r\n\/* Base styles for the card *\/\r\n.tracker-card {\r\n  min-width: 320px;\r\n  border-radius: 16px;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) !important;\r\n  backdrop-filter: blur(12px) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.08) !important;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2), 0 1px 4px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;\r\n}\r\n\r\n\/* Apply opacity if inactive *\/\r\n.tracker-card.inactive {\r\n  opacity: 0.6;\r\n}\r\n\r\n\/* Gradient overlay at the top *\/\r\n.gradient-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 1px;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent) !important;\r\n}\r\n\r\n\/* Header section *\/\r\n.tracker-card-header {\r\n  padding: 16px 20px 0 20px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n\/* Header row for date and counters *\/\r\n.header-row-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n\/* Header badge style *\/\r\n.header-badge {\r\n  padding: 4px 10px;\r\n  border-radius: 8px;\r\n  font-weight: 500;\r\n  letter-spacing: 0.25px;\r\n  background: rgba(0, 0, 0, 0.2) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.08) !important;\r\n  backdrop-filter: blur(8px) !important;\r\n}\r\n\r\n\/* Header row for character name and icons *\/\r\n.header-row-middle {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.character-name {\r\n  font-size: 26px;\r\n  font-weight: 600;\r\n  letter-spacing: -0.25px;\r\n  text-align: left;\r\n}\r\n\r\n.icon-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n\/* Header row for character status *\/\r\n.header-row-bottom {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.character-status {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 12px !important;\r\n  font-weight: 500 !important;\r\n  color: rgba(255, 255, 255, 0.7) !important;\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;\r\n  letter-spacing: 0.25px !important;\r\n}\r\n\r\n.status-divider {\r\n  margin: 0 8px !important;\r\n  opacity: 0.5 !important;\r\n}\r\n\r\n\/* Stats container *\/\r\n.stats-container {\r\n  flex-direction: row;\r\n  position: absolute;\r\n  top: 115px;\r\n  bottom: 110px;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 12px;\r\n  gap: 8px;\r\n  flex-wrap: nowrap;\r\n}\r\n\r\n\/* Individual stat item *\/\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  flex: 1;\r\n  min-width: 60px;\r\n  max-width: 120px;\r\n  position: relative;\r\n}\r\n\r\n.stat-title {\r\n  font-size: 8px;\r\n  font-weight: 500;\r\n  opacity: 0.8;\r\n  margin-bottom: 3px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  width: 100%;\r\n  text-align: center;\r\n  line-height: 1.2;\r\n}\r\n\r\n.stat-container {\r\n  padding: 6px 3px;\r\n  border-radius: 10px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: relative;\r\n  min-height: 70px;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n  transition: all 0.25s cubic-bezier(0.25, 0.8, 0.25, 1) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.05) !important;\r\n  background: rgba(255, 255, 255, 0.05) !important;\r\n  backdrop-filter: blur(4px) !important;\r\n}\r\n\r\n.stat-container:hover {\r\n  background: rgba(255, 255, 255, 0.12) !important;\r\n  transform: translateY(-2px) !important;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 20px;\r\n  line-height: 1;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  line-height: 1;\r\n}\r\n\r\n\/* Change indicator *\/\r\n.change-indicator {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -8px;\r\n  color: white;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  padding: 2px 6px;\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  min-width: 24px;\r\n  text-align: center;\r\n  line-height: 1.2;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\r\n  animation: pulse 0.5s ease-in-out;\r\n}\r\n\r\n.change-indicator.positive {\r\n  background: rgba(46, 204, 113, 0.9) !important;\r\n}\r\n\r\n.change-indicator.negative {\r\n  background: rgba(231, 76, 60, 0.9) !important;\r\n}\r\n\r\n.change-indicator.negative-alt {\r\n  background: rgba(46, 204, 113, 0.9) !important;\r\n}\r\n\r\n@keyframes pulse {\r\n  0% { transform: scale(0.8); opacity: 0.7; }\r\n  50% { transform: scale(1.1); opacity: 1; }\r\n  100% { transform: scale(1); opacity: 1; }\r\n}\r\n\r\n\/* Thought label divider *\/\r\n.thought-label-divider {\r\n  position: absolute;\r\n  bottom: 52px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 80px;\r\n  height: 1px;\r\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);\r\n  opacity: 0.6;\r\n}\r\n\r\n\/* Thought bubble *\/\r\n.thought-bubble {\r\n  position: absolute;\r\n  left: 16px;\r\n  right: 16px;\r\n  bottom: 16px;\r\n  min-height: 60px;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px 16px;\r\n  background: rgba(0, 0, 0, 0.2) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.08) !important;\r\n  backdrop-filter: blur(8px) !important;\r\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;\r\n}\r\n\r\n.thought-label {\r\n  position: absolute;\r\n  top: -24px;\r\n  left: 0;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n  letter-spacing: 0.25px;\r\n}\r\n\r\n\/* Container for multiple cards *\/\r\n.sst-card-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  justify-content: center;\r\n  align-items: start;\r\n  width: 100%;\r\n}\r\n\r\n\/* --- Media Queries --- *\/\r\n\r\n\/* Mobile Styles *\/\r\n@media (max-width: 768px) {\r\n  .tracker-card {\r\n    width: 100%;\r\n    max-width: 100%;\r\n    min-height: 400px;\r\n  }\r\n  \r\n  .stat-icon { font-size: 20px !important; margin-bottom: 3px !important; }\r\n  .stat-value { font-size: 16px !important; }\r\n  .stat-container { min-height: 70px !important; padding: 6px 3px !important; }\r\n  .stat-title { font-size: 9px !important; }\r\n  \r\n  \/* Adjust stats container position for mobile *\/\r\n  .stats-container {\r\n    top: 100px !important;\r\n    bottom: 110px !important;\r\n  }\r\n}\r\n\r\n\/* Desktop Styles (2-column layout) *\/\r\n@media (min-width: 769px) {\r\n  .tracker-card {\r\n    flex: 1 1 calc(50% - 10px);\r\n    max-width: calc(50% - 10px);\r\n    min-width: 300px; \/* Ensure cards don't get too small *\/\r\n    height: 400px;\r\n  }\r\n  \r\n  .stat-icon { font-size: 28px !important; margin-bottom: 6px !important; }\r\n  .stat-value { font-size: 20px !important; }\r\n  .stat-container { min-height: 90px !important; padding: 10px 6px !important; }\r\n  .stat-title { font-size: 10px !important; }\r\n  \r\n  \/* Adjust stats container position for desktop *\/\r\n  .stats-container {\r\n    top: 110px !important;\r\n    bottom: 110px !important;\r\n  }\r\n}\r\n\r\n\/* Large Screen Styles *\/\r\n@media (min-width: 1400px) {\r\n  .tracker-card {\r\n    flex: 1 1 600px;\r\n    max-width: 600px;\r\n    height: 400px;\r\n  }\r\n  \r\n  .stat-icon { font-size: 32px !important; margin-bottom: 8px !important; }\r\n  .stat-value { font-size: 24px !important; }\r\n  .stat-container { min-height: 100px !important; padding: 12px 8px !important; }\r\n  .stat-title { font-size: 11px !important; }\r\n  \r\n  \/* Adjust stats container position for large screens *\/\r\n  .stats-container {\r\n    top: 110px !important;\r\n    bottom: 110px !important;\r\n  }\r\n}\r\n<\/style>\r\n\r\n<div class=\"sst-card-container\">\r\n  <div class=\"tracker-card {{#if stats.inactive}}inactive{{\/if}}\" style=\"background: linear-gradient(145deg, {{bgColor}} 0%, {{darkerBgColor}} 50%, {{darkerBgColor}} 100%);\">\r\n    <div class=\"gradient-overlay\"><\/div>\r\n    \r\n    <!-- Combined Header Section -->\r\n    <div class=\"tracker-card-header\">\r\n      <!-- Date and Counters Row -->\r\n      <div class=\"header-row-top\">\r\n        <div class=\"header-badge\">{{currentDate}}<\/div>\r\n        <div style=\"display: flex; gap: 8px;\">\r\n          <div class=\"header-badge\">Day {{stats.days_since_first_meeting}}<\/div>\r\n          {{#if stats.preg}}<div class=\"header-badge\">\uD83E\uDD30{{stats.days_preg}}d<\/div>{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n      \r\n      <!-- Character Name and Icons Row -->\r\n      <div class=\"header-row-middle\">\r\n        <div class=\"character-name\">{{characterName}}<\/div>\r\n        <div class=\"icon-container\">\r\n          {{#if healthIcon}}<span>{{healthIcon}}<\/span>{{\/if}}\r\n          {{#if stats.inactive}}\r\n            {{#if (eq stats.inactiveReason 1)}}<span>\uD83D\uDE34<\/span>{{\/if}}\r\n            {{#if (eq stats.inactiveReason 2)}}<span>\uD83C\uDFE5<\/span>{{\/if}}\r\n            {{#if (eq stats.inactiveReason 3)}}<span>\uD83D\uDE21<\/span>{{\/if}}\r\n            {{#if (eq stats.inactiveReason 4)}}<span>\uD83E\uDEE0<\/span>{{\/if}}\r\n            {{#if (eq stats.inactiveReason 5)}}<span>\uD83E\uDEA6<\/span>{{\/if}}\r\n          {{\/if}}\r\n          <span>{{reactionEmoji}}<\/span>\r\n        <\/div>\r\n      <\/div>\r\n      \r\n      <!-- Character Status Row -->\r\n      <div class=\"header-row-bottom\">\r\n        <div class=\"character-status\">\r\n          {{#if stats.relationshipStatus}}<span>{{stats.relationshipStatus}}<\/span>{{\/if}}\r\n          {{#if stats.desireStatus}}<span class=\"status-divider\">|<\/span><span>{{stats.desireStatus}}<\/span>{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    \r\n    <!-- Stats Section -->\r\n    <div class=\"stats-container\">\r\n      <div class=\"stat-item\">\r\n        <div class=\"stat-title\">AFFECTION<\/div>\r\n        <div class=\"stat-container\">\r\n          <div class=\"stat-icon\">\u2764\uFE0F<\/div>\r\n          <div class=\"stat-value\">{{stats.ap}}<\/div>\r\n          {{#if stats.apChange}}{{#unless (eq stats.apChange 0)}}\r\n          <div class=\"change-indicator positive\">\r\n            {{#if (gt stats.apChange 0)}}+{{\/if}}{{stats.apChange}}\r\n          <\/div>\r\n          {{\/unless}}{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n      \r\n      <div class=\"stat-item\">\r\n        <div class=\"stat-title\">DESIRE<\/div>\r\n        <div class=\"stat-container\">\r\n          <div class=\"stat-icon\">\uD83D\uDD25<\/div>\r\n          <div class=\"stat-value\">{{stats.dp}}<\/div>\r\n          {{#if stats.dpChange}}{{#unless (eq stats.dpChange 0)}}\r\n          <div class=\"change-indicator negative\">\r\n            {{#if (gt stats.dpChange 0)}}+{{\/if}}{{stats.dpChange}}\r\n          <\/div>\r\n          {{\/unless}}{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n      \r\n      <div class=\"stat-item\">\r\n        <div class=\"stat-title\">TRUST<\/div>\r\n        <div class=\"stat-container\">\r\n          <div class=\"stat-icon\">\uD83E\uDD1D<\/div>\r\n          <div class=\"stat-value\">{{stats.tp}}<\/div>\r\n          {{#if stats.tpChange}}{{#unless (eq stats.tpChange 0)}}\r\n          <div class=\"change-indicator positive\">\r\n            {{#if (gt stats.tpChange 0)}}+{{\/if}}{{stats.tpChange}}\r\n          <\/div>\r\n          {{\/unless}}{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n      \r\n      <div class=\"stat-item\">\r\n        <div class=\"stat-title\">CONTEMPT<\/div>\r\n        <div class=\"stat-container\">\r\n          <div class=\"stat-icon\">\uD83D\uDC94<\/div>\r\n          <div class=\"stat-value\">{{stats.cp}}<\/div>\r\n          {{#if stats.cpChange}}{{#unless (eq stats.cpChange 0)}}\r\n          <div class=\"change-indicator negative-alt\">\r\n            {{#if (gt stats.cpChange 0)}}+{{\/if}}{{stats.cpChange}}\r\n          <\/div>\r\n          {{\/unless}}{{\/if}}\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    \r\n    <!-- Thought Bubble Section -->\r\n    <div class=\"thought-label-divider\"><\/div>\r\n    <div class=\"thought-bubble\">\r\n      <div class=\"thought-label\">{{characterName}} thinks:<\/div>\r\n      <div style=\"font-size: 22px; flex-shrink: 0;\">\uD83D\uDCAD<\/div>\r\n      <div style=\"flex: 1; font-size: 13px; font-weight: 400; line-height: 1.4; overflow: hidden;\">{{stats.internal_thought}}<\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>\r\n<!-- CARD_TEMPLATE_END -->\r\n\r\n<!-- \r\nTEMPLATE VARIABLES:\r\n- {{characterName}}: Character's name\r\n- {{currentDate}}: Current date in YYYY-MM-DD format\r\n- {{bgColor}}: Primary background color\r\n- {{darkerBgColor}}: Darker variant of background color\r\n- {{contrastColor}}: Contrast color for text against background\r\n- {{stats.ap}}: Affection points\r\n- {{stats.dp}}: Desire points\r\n- {{stats.tp}}: Trust points\r\n- {{stats.cp}}: Contempt points\r\n- {{stats.apChange}}: Change in affection points (positive\/negative\/zero)\r\n- {{stats.dpChange}}: Change in desire points (positive\/negative\/zero)\r\n- {{stats.tpChange}}: Change in trust points (positive\/negative\/zero)\r\n- {{stats.cpChange}}: Change in contempt points (positive\/negative\/zero)\r\n- {{stats.days_since_first_meeting}}: Days since first meeting\r\n- {{stats.preg}}: Boolean for pregnancy status\r\n- {{stats.days_preg}}: Days pregnant (if applicable)\r\n- {{stats.internal_thought}}: Character's internal thoughts\r\n- {{stats.relationshipStatus}}: Relationship status text\r\n- {{stats.desireStatus}}: Desire status text\r\n- {{stats.inactive}}: Boolean for inactive status\r\n- {{stats.inactiveReason}}: Number indicating reason for inactivity (0-5)\r\n- {{healthIcon}}: Health status icon (\uD83E\uDD15 or \uD83D\uDC80)\r\n- {{reactionEmoji}}: Reaction emoji (\uD83D\uDC4D, \uD83D\uDC4E, or \uD83D\uDE10)\r\n- {{showThoughtBubble}}: Boolean to show\/hide thought bubble (always shown in this template)\r\n- {{isActive}}: Boolean for card active state (affects opacity)\r\n-->",
  "sysPrompt": "## DATING SIM MODE ENABLED\r\n\r\nYour objective: Prioritize narrative reality for relationship\/status updates. Analyze chat context to determine current date (YYYY-MM-DD format) and time (24-hour time). Update all trackers instantly when events occur. ALWAYS check for `sim` codeblocks containing JSON. Ensure ALL necessary data is recalculated if missing.\r\n\r\nWhen using the MACRO position for templates, you can place the {{sim_tracker_positioned}} macro anywhere in your response to control exactly where the tracker appears.\r\n\r\n## Core Systems:\r\n\r\n### Key Rules:\r\n\r\n1. **Output Order**:\r\n\r\n   - ALWAYS generate narrative content first\r\n   - ONLY AFTER narrative content, output tracker block\r\n   - FINALLY output sim codeblock\r\n\r\n2. **Relationship Meters**:\r\n\r\n- Affection (AP): 0-200\r\n- Desire (DP): 0-150\r\n- Trust (TP): 0-150\r\n- Contempt (CP): 0-150\r\n- Update based on interaction quality\/current relationship with {{user}}\r\n- Relationship Status (based on current AP Level):\r\n  - 0-30: \"Strangers\"\r\n  - 31-60: \"Acquaintances\"\r\n  - 61-90: \"Good Friends\"\r\n  - 91-120: \"Romantic Interest\"\r\n  - 121-150: \"Going Steady\"\r\n  - 151-180: \"Committed Relationship\"\r\n  - 181-200 (MAX LEVEL): \"Devoted Partner\"\r\n- Desire Status (based on current DP Level):\r\n  - 0-25: \"Not feeling the heat.\"\r\n  - 26-50: \"A smoldering flame builds.\"\r\n  - 51-75: \"Starting to feel warm in here.\"\r\n  - 76-100: \"Body's burning up!\"\r\n  - 101-125: \"A desperate need presents.\"\r\n  - 126-150 (MAX LEVEL): \"Pliable in the lustful hunger.\"\r\n\r\n3. **Multi-Character Support**:\r\n\r\n   - Generate ONE card per active character\r\n   - Track relationships separately for each character\r\n   - Maintain independent status for each character\r\n\r\n4. **Date System**:\r\n\r\n- **Inference**: Analyze narrative context to determine current date\r\n- **Format**: Store as YYYY-MM-DD in sim block (e.g., 2025-08-10)\r\n- **Progression**:\r\n  - Advance date when narrative time passes\r\n  - Handle month\/year rollovers automatically\r\n  - Track conception days relative to conception date\r\n- **Display**: Show in ISO format at top of card\r\n- **Day Tracking**: Confirm the amount of days that have passed since the first meeting of the character.\r\n- **Time Tracking**: Confirm the time of day of the interaction, and present it as the story progresses realistically.\r\n\r\n5. **Status Trackers**:\r\n\r\n   - Health Status: `0`=Unharmed, `1`=Injured, `2`=Critical\r\n     - If character is left without treatment for grave, critical wounds: FORCE character to be inactive and do not continue roleplay or create dialog, as they are now dead.\r\n   - Reaction to User: `0`=Neutral, `1`=Like, `2`=Dislike\r\n   - Pregnancy: Track conception days when relevant (\uD83E\uDD30[days]d)\r\n   - Internal Thought: Character's current internal thoughts\/feelings\r\n   - Inactivity:\r\n     - If character is inactive (`true`), list the REASON why via a number.\r\n     - `0`: Not inactive (irrelevant if inactive is `false`)\r\n     - `1`: Asleep (\uD83D\uDE34)\r\n     - `2`: Comatose (\uD83C\uDFE5)\r\n     - `3`: Contempt\/anger level forced character to leave (\uD83D\uDE21)\r\n     - `4`: Incapacitated (\uD83E\uDEE0)\r\n     - `5`: Death (\uD83E\uDEA6)\r\n\r\n6. **Change Tracking**:\r\n   - **apChange**: Numerical change in Affection Points from user's action (positive\/negative\/zero)\r\n   - **dpChange**: Numerical change in Desire Points from user's action (positive\/negative\/zero)\r\n   - **tpChange**: Numerical change in Trust Points from user's action (positive\/negative\/zero)\r\n   - **cpChange**: Numerical change in Contempt Points from user's action (positive\/negative\/zero)\r\n   - If no change occurred in a stat, set the change value to 0\r\n   - These values represent the immediate impact of the user's most recent action\r\n\r\n### Other Tracking Elements:\r\n\r\n- **Day Counter**: Track narrative days (starts at 1)\r\n- **Reaction**: \uD83D\uDC4D (Liked), \uD83D\uDC4E (Disliked), \uD83D\uDE10 (Neutral)\r\n- **BG Color**: Set hex color based on {{char}}'s appearance\/personality\r\n\r\n### Output Workflow:\r\n\r\n1. Process narrative events\r\n2. Calculate status changes for ALL active characters\r\n3. Output narrative content\r\n4. Output ONLY the sim codeblock (no HTML)\r\n\r\nOutput the sim codeblock with all character data:\r\n\r\n{{sim_format}}\r\n\r\n## Critical Enforcement:\r\n\r\n1. **Statistic Definition**:\r\n\r\n   - **Affection**: the character\u2019s romantic feelings towards the user. The higher this level is, the more they may be willing to engage in more flowery, \u201Clovey-dovey\u201D speech or activities with them.\r\n   - **Desire**: the level of sexual attraction the character feels for the user. The higher this level is, the higher the chance that the character may engage the user sexually. A maxed or close-to-max DP level may make the character more pliable or impressionable in the bedroom.\r\n   - **Trust**: the level of trust the character has in the user personally. Raising this level will make the character more likely to admit their own faults, or make them more willing to believe you. The user lying, cheating, or breaking promises can cause this stat to fall.\r\n   - **Contempt**: the level of the character\u2019s disdain towards the user. This stat will raise when the user causes harm to the character or hurts their feelings. Minor transgressions will bear a minor raise, while other actions will cause a sharp rise. A rise in CP can also cause a drop from the other 3 statistics. Good faith actions to show regret or concern can cause this level to fall.\r\n\r\n2. **Position Lock**:\r\n\r\n   - Narrative content MUST come FIRST\r\n   - Tracker cards MUST come AFTER narrative\r\n   - Sim codeblock MUST be LAST OUTPUT\r\n   - NEVER exclude the sim codeblock from ANY character response. It must always be included.\r\n\r\n3. **Multi-Character Handling**:\r\n\r\n   - Generate cards for ALL ACTIVE characters\r\n   - Maintain separate state per character\r\n   - Process interactions individually\r\n\r\n4. **Game Master Role**:\r\n\r\n   - Only story characters receive trackers, no other assistants\r\n\r\n5. **Performance Notes**:\r\n\r\n   - Limit to 4 active characters maximum at a time\r\n   - Collapse inactive character cards\r\n   - Preserve state for all known characters\r\n   - Previous tracker blocks are only to be used as references\r\n   - ALWAYS generate fresh tracker data for each message\r\n\r\n6. **Data Correction**:\r\n   - If ANY data is missing from the previous sim tracker block, add the missing data and continue your assessment.\r\n   - Do not leave any relevant data empty or unavailable. The JSON block, its presence at the end of the message, and its complete formatting is mission critical.\r\n   - If data from previous run does not match expected formatting, or contains missing keys, perform self-correction of the data and present the new code block at the end of the message.",
  "customFields": [
    {
      "key": "ap",
      "description": "Affection Points (0-200)"
    },
    {
      "key": "dp",
      "description": "Desire Points (0-150)"
    },
    {
      "key": "tp",
      "description": "Trust Points (0-150)"
    },
    {
      "key": "cp",
      "description": "Contempt Points (0-150)"
    },
    {
      "key": "apChange",
      "description": "Change in Affection from last action (positive/negative/zero)"
    },
    {
      "key": "dpChange",
      "description": "Change in Desire from last action (positive/negative/zero)"
    },
    {
      "key": "tpChange",
      "description": "Change in Trust from last action (positive/negative/zero)"
    },
    {
      "key": "cpChange",
      "description": "Change in Contempt from last action (positive/negative/zero)"
    },
    {
      "key": "relationshipStatus",
      "description": "Relationship status text (e.g., 'Romantic Interest')"
    },
    {
      "key": "desireStatus",
      "description": "Desire status text (e.g., 'A smoldering flame builds.')"
    },
    {
      "key": "preg",
      "description": "Boolean for pregnancy status (true/false)"
    },
    {
      "key": "days_preg",
      "description": "Days pregnant (if applicable)"
    },
    {
      "key": "conception_date",
      "description": "Date of conception (YYYY-MM-DD)"
    },
    {
      "key": "health",
      "description": "Health Status (0=Unharmed, 1=Injured, 2=Critical)"
    },
    {
      "key": "bg",
      "description": "Hex color for card background (e.g., #6a5acd)"
    },
    {
      "key": "last_react",
      "description": "Reaction to User (0=Neutral, 1=Like, 2=Dislike)"
    },
    {
      "key": "internal_thought",
      "description": "Character's current internal thoughts/feelings"
    },
    {
      "key": "days_since_first_meeting",
      "description": "Total days since first meeting"
    },
    {
      "key": "inactive",
      "description": "Boolean for character inactivity (true/false)"
    },
    {
      "key": "inactiveReason",
      "description": "Reason for inactivity (0=Not inactive, 1=Asleep, 2=Comatose, 3=Contempt/anger, 4=Incapacitated, 5=Death)"
    }
  ],
  "extSettings": {
    "codeBlockIdentifier": "sim",
    "defaultBgColor": "#6a5acd",
    "showThoughtBubble": true,
    "hideSimBlocks": true,
    "templateFile": "dating-card-template-positioned.html"
  }
}